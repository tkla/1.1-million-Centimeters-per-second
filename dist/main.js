!function(){var t={3099:function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},6077:function(t,e,r){var i=r(111);t.exports=function(t){if(!i(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},1223:function(t,e,r){var i=r(5112),n=r(30),o=r(3070),s=i("unscopables"),a=Array.prototype;null==a[s]&&o.f(a,s,{configurable:!0,value:n(null)}),t.exports=function(t){a[s][t]=!0}},9670:function(t,e,r){var i=r(111);t.exports=function(t){if(!i(t))throw TypeError(String(t)+" is not an object");return t}},1285:function(t,e,r){"use strict";var i=r(7908),n=r(1400),o=r(7466);t.exports=function(t){for(var e=i(this),r=o(e.length),s=arguments.length,a=n(s>1?arguments[1]:void 0,r),c=s>2?arguments[2]:void 0,u=void 0===c?r:n(c,r);u>a;)e[a++]=t;return e}},8533:function(t,e,r){"use strict";var i=r(2092).forEach,n=r(9341)("forEach");t.exports=n?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},1318:function(t,e,r){var i=r(5656),n=r(7466),o=r(1400),s=function(t){return function(e,r,s){var a,c=i(e),u=n(c.length),h=o(s,u);if(t&&r!=r){for(;u>h;)if((a=c[h++])!=a)return!0}else for(;u>h;h++)if((t||h in c)&&c[h]===r)return t||h||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},2092:function(t,e,r){var i=r(9974),n=r(8361),o=r(7908),s=r(7466),a=r(5417),c=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,h=4==t,f=6==t,l=7==t,p=5==t||f;return function(v,y,d,m){for(var g,b,w=o(v),x=n(w),P=i(y,d,3),E=s(x.length),k=0,S=m||a,O=e?S(v,E):r||l?S(v,0):void 0;E>k;k++)if((p||k in x)&&(b=P(g=x[k],k,w),t))if(e)O[k]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:c.call(O,g)}else switch(t){case 4:return!1;case 7:c.call(O,g)}return f?-1:u||h?h:O}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},1194:function(t,e,r){var i=r(7293),n=r(5112),o=r(7392),s=n("species");t.exports=function(t){return o>=51||!i((function(){var e=[];return(e.constructor={})[s]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},9341:function(t,e,r){"use strict";var i=r(7293);t.exports=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))}},7475:function(t,e,r){var i=r(111),n=r(3157),o=r(5112)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)?i(e)&&null===(e=e[o])&&(e=void 0):e=void 0),void 0===e?Array:e}},5417:function(t,e,r){var i=r(7475);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},4326:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},648:function(t,e,r){var i=r(1694),n=r(4326),o=r(5112)("toStringTag"),s="Arguments"==n(function(){return arguments}());t.exports=i?n:function(t){var e,r,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),o))?r:s?n(e):"Object"==(i=n(e))&&"function"==typeof e.callee?"Arguments":i}},9920:function(t,e,r){var i=r(6656),n=r(3887),o=r(1236),s=r(3070);t.exports=function(t,e){for(var r=n(e),a=s.f,c=o.f,u=0;u<r.length;u++){var h=r[u];i(t,h)||a(t,h,c(e,h))}}},8544:function(t,e,r){var i=r(7293);t.exports=!i((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},4994:function(t,e,r){"use strict";var i=r(3383).IteratorPrototype,n=r(30),o=r(9114),s=r(8003),a=r(7497),c=function(){return this};t.exports=function(t,e,r){var u=e+" Iterator";return t.prototype=n(i,{next:o(1,r)}),s(t,u,!1,!0),a[u]=c,t}},8880:function(t,e,r){var i=r(9781),n=r(3070),o=r(9114);t.exports=i?function(t,e,r){return n.f(t,e,o(1,r))}:function(t,e,r){return t[e]=r,t}},9114:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},6135:function(t,e,r){"use strict";var i=r(4948),n=r(3070),o=r(9114);t.exports=function(t,e,r){var s=i(e);s in t?n.f(t,s,o(0,r)):t[s]=r}},654:function(t,e,r){"use strict";var i=r(2109),n=r(4994),o=r(9518),s=r(7674),a=r(8003),c=r(8880),u=r(1320),h=r(5112),f=r(1913),l=r(7497),p=r(3383),v=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,d=h("iterator"),m="keys",g="values",b="entries",w=function(){return this};t.exports=function(t,e,r,h,p,x,P){n(r,e,h);var E,k,S,O=function(t){if(t===p&&R)return R;if(!y&&t in _)return _[t];switch(t){case m:case g:case b:return function(){return new r(this,t)}}return function(){return new r(this)}},j=e+" Iterator",T=!1,_=t.prototype,M=_[d]||_["@@iterator"]||p&&_[p],R=!y&&M||O(p),F="Array"==e&&_.entries||M;if(F&&(E=o(F.call(new t)),v!==Object.prototype&&E.next&&(f||o(E)===v||(s?s(E,v):"function"!=typeof E[d]&&c(E,d,w)),a(E,j,!0,!0),f&&(l[j]=w))),p==g&&M&&M.name!==g&&(T=!0,R=function(){return M.call(this)}),f&&!P||_[d]===R||c(_,d,R),l[e]=R,p)if(k={values:O(g),keys:x?R:O(m),entries:O(b)},P)for(S in k)(y||T||!(S in _))&&u(_,S,k[S]);else i({target:e,proto:!0,forced:y||T},k);return k}},7235:function(t,e,r){var i=r(857),n=r(6656),o=r(6061),s=r(3070).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});n(e,t)||s(e,t,{value:o.f(t)})}},9781:function(t,e,r){var i=r(7293);t.exports=!i((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,r){var i=r(7854),n=r(111),o=i.document,s=n(o)&&n(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},8324:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8113:function(t,e,r){var i=r(5005);t.exports=i("navigator","userAgent")||""},7392:function(t,e,r){var i,n,o=r(7854),s=r(8113),a=o.process,c=o.Deno,u=a&&a.versions||c&&c.version,h=u&&u.v8;h?n=(i=h.split("."))[0]<4?1:i[0]+i[1]:s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(n=i[1]),t.exports=n&&+n},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var i=r(7854),n=r(1236).f,o=r(8880),s=r(1320),a=r(3505),c=r(9920),u=r(4705);t.exports=function(t,e){var r,h,f,l,p,v=t.target,y=t.global,d=t.stat;if(r=y?i:d?i[v]||a(v,{}):(i[v]||{}).prototype)for(h in e){if(l=e[h],f=t.noTargetGet?(p=n(r,h))&&p.value:r[h],!u(y?h:v+(d?".":"#")+h,t.forced)&&void 0!==f){if(typeof l==typeof f)continue;c(l,f)}(t.sham||f&&f.sham)&&o(l,"sham",!0),s(r,h,l,t)}}},7293:function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},9974:function(t,e,r){var i=r(3099);t.exports=function(t,e,r){if(i(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,i){return t.call(e,r,i)};case 3:return function(r,i,n){return t.call(e,r,i,n)}}return function(){return t.apply(e,arguments)}}},7065:function(t,e,r){"use strict";var i=r(3099),n=r(111),o=[].slice,s={},a=function(t,e,r){if(!(e in s)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";s[e]=Function("C,a","return new C("+i.join(",")+")")}return s[e](t,r)};t.exports=Function.bind||function(t){var e=i(this),r=o.call(arguments,1),s=function(){var i=r.concat(o.call(arguments));return this instanceof s?a(e,i.length,i):e.apply(t,i)};return n(e.prototype)&&(s.prototype=e.prototype),s}},5005:function(t,e,r){var i=r(7854),n=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?n(i[t]):i[t]&&i[t][e]}},7854:function(t,e,r){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},6656:function(t,e,r){var i=r(7908),n={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return n.call(i(t),e)}},3501:function(t){t.exports={}},490:function(t,e,r){var i=r(5005);t.exports=i("document","documentElement")},4664:function(t,e,r){var i=r(9781),n=r(7293),o=r(317);t.exports=!i&&!n((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,r){var i=r(7293),n=r(4326),o="".split;t.exports=i((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?o.call(t,""):Object(t)}:Object},2788:function(t,e,r){var i=r(5465),n=Function.toString;"function"!=typeof i.inspectSource&&(i.inspectSource=function(t){return n.call(t)}),t.exports=i.inspectSource},9909:function(t,e,r){var i,n,o,s=r(8536),a=r(7854),c=r(111),u=r(8880),h=r(6656),f=r(5465),l=r(6200),p=r(3501),v="Object already initialized",y=a.WeakMap;if(s||f.state){var d=f.state||(f.state=new y),m=d.get,g=d.has,b=d.set;i=function(t,e){if(g.call(d,t))throw new TypeError(v);return e.facade=t,b.call(d,t,e),e},n=function(t){return m.call(d,t)||{}},o=function(t){return g.call(d,t)}}else{var w=l("state");p[w]=!0,i=function(t,e){if(h(t,w))throw new TypeError(v);return e.facade=t,u(t,w,e),e},n=function(t){return h(t,w)?t[w]:{}},o=function(t){return h(t,w)}}t.exports={set:i,get:n,has:o,enforce:function(t){return o(t)?n(t):i(t,{})},getterFor:function(t){return function(e){var r;if(!c(e)||(r=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}}},3157:function(t,e,r){var i=r(4326);t.exports=Array.isArray||function(t){return"Array"==i(t)}},4705:function(t,e,r){var i=r(7293),n=/#|\.prototype\./,o=function(t,e){var r=a[s(t)];return r==u||r!=c&&("function"==typeof e?i(e):!!e)},s=o.normalize=function(t){return String(t).replace(n,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},111:function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},1913:function(t){t.exports=!1},2190:function(t,e,r){var i=r(5005),n=r(3307);t.exports=n?function(t){return"symbol"==typeof t}:function(t){var e=i("Symbol");return"function"==typeof e&&Object(t)instanceof e}},3383:function(t,e,r){"use strict";var i,n,o,s=r(7293),a=r(9518),c=r(8880),u=r(6656),h=r(5112),f=r(1913),l=h("iterator"),p=!1;[].keys&&("next"in(o=[].keys())?(n=a(a(o)))!==Object.prototype&&(i=n):p=!0);var v=null==i||s((function(){var t={};return i[l].call(t)!==t}));v&&(i={}),f&&!v||u(i,l)||c(i,l,(function(){return this})),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:p}},7497:function(t){t.exports={}},133:function(t,e,r){var i=r(7392),n=r(7293);t.exports=!!Object.getOwnPropertySymbols&&!n((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41}))},8536:function(t,e,r){var i=r(7854),n=r(2788),o=i.WeakMap;t.exports="function"==typeof o&&/native code/.test(n(o))},30:function(t,e,r){var i,n=r(9670),o=r(6048),s=r(748),a=r(3501),c=r(490),u=r(317),h=r(6200)("IE_PROTO"),f=function(){},l=function(t){return"<script>"+t+"<\/script>"},p=function(t){t.write(l("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}var t,e;v="undefined"!=typeof document?document.domain&&i?p(i):((e=u("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(l("document.F=Object")),t.close(),t.F):p(i);for(var r=s.length;r--;)delete v.prototype[s[r]];return v()};a[h]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(f.prototype=n(t),r=new f,f.prototype=null,r[h]=t):r=v(),void 0===e?r:o(r,e)}},6048:function(t,e,r){var i=r(9781),n=r(3070),o=r(9670),s=r(1956);t.exports=i?Object.defineProperties:function(t,e){o(t);for(var r,i=s(e),a=i.length,c=0;a>c;)n.f(t,r=i[c++],e[r]);return t}},3070:function(t,e,r){var i=r(9781),n=r(4664),o=r(9670),s=r(4948),a=Object.defineProperty;e.f=i?a:function(t,e,r){if(o(t),e=s(e),o(r),n)try{return a(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},1236:function(t,e,r){var i=r(9781),n=r(5296),o=r(9114),s=r(5656),a=r(4948),c=r(6656),u=r(4664),h=Object.getOwnPropertyDescriptor;e.f=i?h:function(t,e){if(t=s(t),e=a(e),u)try{return h(t,e)}catch(t){}if(c(t,e))return o(!n.f.call(t,e),t[e])}},1156:function(t,e,r){var i=r(5656),n=r(8006).f,o={}.toString,s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return n(t)}catch(t){return s.slice()}}(t):n(i(t))}},8006:function(t,e,r){var i=r(6324),n=r(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},9518:function(t,e,r){var i=r(6656),n=r(7908),o=r(6200),s=r(8544),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){return t=n(t),i(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?c:null}},6324:function(t,e,r){var i=r(6656),n=r(5656),o=r(1318).indexOf,s=r(3501);t.exports=function(t,e){var r,a=n(t),c=0,u=[];for(r in a)!i(s,r)&&i(a,r)&&u.push(r);for(;e.length>c;)i(a,r=e[c++])&&(~o(u,r)||u.push(r));return u}},1956:function(t,e,r){var i=r(6324),n=r(748);t.exports=Object.keys||function(t){return i(t,n)}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!r.call({1:2},1);e.f=n?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},7674:function(t,e,r){var i=r(9670),n=r(6077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}return function(r,o){return i(r),n(o),e?t.call(r,o):r.__proto__=o,r}}():void 0)},288:function(t,e,r){"use strict";var i=r(1694),n=r(648);t.exports=i?{}.toString:function(){return"[object "+n(this)+"]"}},2140:function(t,e,r){var i=r(111);t.exports=function(t,e){var r,n;if("string"===e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!i(n=r.call(t)))return n;if("string"!==e&&"function"==typeof(r=t.toString)&&!i(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},3887:function(t,e,r){var i=r(5005),n=r(8006),o=r(5181),s=r(9670);t.exports=i("Reflect","ownKeys")||function(t){var e=n.f(s(t)),r=o.f;return r?e.concat(r(t)):e}},857:function(t,e,r){var i=r(7854);t.exports=i},1320:function(t,e,r){var i=r(7854),n=r(8880),o=r(6656),s=r(3505),a=r(2788),c=r(9909),u=c.get,h=c.enforce,f=String(String).split("String");(t.exports=function(t,e,r,a){var c,u=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof r&&("string"!=typeof e||o(r,"name")||n(r,"name",e),(c=h(r)).source||(c.source=f.join("string"==typeof e?e:""))),t!==i?(u?!p&&t[e]&&(l=!0):delete t[e],l?t[e]=r:n(t,e,r)):l?t[e]=r:s(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&u(this).source||a(this)}))},4488:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},3505:function(t,e,r){var i=r(7854);t.exports=function(t,e){try{Object.defineProperty(i,t,{value:e,configurable:!0,writable:!0})}catch(r){i[t]=e}return e}},8003:function(t,e,r){var i=r(3070).f,n=r(6656),o=r(5112)("toStringTag");t.exports=function(t,e,r){t&&!n(t=r?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},6200:function(t,e,r){var i=r(2309),n=r(9711),o=i("keys");t.exports=function(t){return o[t]||(o[t]=n(t))}},5465:function(t,e,r){var i=r(7854),n=r(3505),o="__core-js_shared__",s=i[o]||n(o,{});t.exports=s},2309:function(t,e,r){var i=r(1913),n=r(5465);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.2",mode:i?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},8710:function(t,e,r){var i=r(9958),n=r(1340),o=r(4488),s=function(t){return function(e,r){var s,a,c=n(o(e)),u=i(r),h=c.length;return u<0||u>=h?t?"":void 0:(s=c.charCodeAt(u))<55296||s>56319||u+1===h||(a=c.charCodeAt(u+1))<56320||a>57343?t?c.charAt(u):s:t?c.slice(u,u+2):a-56320+(s-55296<<10)+65536}};t.exports={codeAt:s(!1),charAt:s(!0)}},4986:function(t,e,r){var i=r(8113);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(i)},6650:function(t,e,r){var i=r(7466),n=r(1340),o=r(8415),s=r(4488),a=Math.ceil,c=function(t){return function(e,r,c){var u,h,f=n(s(e)),l=f.length,p=void 0===c?" ":n(c),v=i(r);return v<=l||""==p?f:(u=v-l,(h=o.call(p,a(u/p.length))).length>u&&(h=h.slice(0,u)),t?f+h:h+f)}};t.exports={start:c(!1),end:c(!0)}},8415:function(t,e,r){"use strict";var i=r(9958),n=r(1340),o=r(4488);t.exports=function(t){var e=n(o(this)),r="",s=i(t);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(r+=e);return r}},1400:function(t,e,r){var i=r(9958),n=Math.max,o=Math.min;t.exports=function(t,e){var r=i(t);return r<0?n(r+e,0):o(r,e)}},5656:function(t,e,r){var i=r(8361),n=r(4488);t.exports=function(t){return i(n(t))}},9958:function(t){var e=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:e)(t)}},7466:function(t,e,r){var i=r(9958),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},7908:function(t,e,r){var i=r(4488);t.exports=function(t){return Object(i(t))}},7593:function(t,e,r){var i=r(111),n=r(2190),o=r(2140),s=r(5112)("toPrimitive");t.exports=function(t,e){if(!i(t)||n(t))return t;var r,a=t[s];if(void 0!==a){if(void 0===e&&(e="default"),r=a.call(t,e),!i(r)||n(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},4948:function(t,e,r){var i=r(7593),n=r(2190);t.exports=function(t){var e=i(t,"string");return n(e)?e:String(e)}},1694:function(t,e,r){var i={};i[r(5112)("toStringTag")]="z",t.exports="[object z]"===String(i)},1340:function(t,e,r){var i=r(2190);t.exports=function(t){if(i(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},9711:function(t){var e=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+r).toString(36)}},3307:function(t,e,r){var i=r(133);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},6061:function(t,e,r){var i=r(5112);e.f=i},5112:function(t,e,r){var i=r(7854),n=r(2309),o=r(6656),s=r(9711),a=r(133),c=r(3307),u=n("wks"),h=i.Symbol,f=c?h:h&&h.withoutSetter||s;t.exports=function(t){return o(u,t)&&(a||"string"==typeof u[t])||(a&&o(h,t)?u[t]=h[t]:u[t]=f("Symbol."+t)),u[t]}},2222:function(t,e,r){"use strict";var i=r(2109),n=r(7293),o=r(3157),s=r(111),a=r(7908),c=r(7466),u=r(6135),h=r(5417),f=r(1194),l=r(5112),p=r(7392),v=l("isConcatSpreadable"),y=9007199254740991,d="Maximum allowed index exceeded",m=p>=51||!n((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),g=f("concat"),b=function(t){if(!s(t))return!1;var e=t[v];return void 0!==e?!!e:o(t)};i({target:"Array",proto:!0,forced:!m||!g},{concat:function(t){var e,r,i,n,o,s=a(this),f=h(s,0),l=0;for(e=-1,i=arguments.length;e<i;e++)if(b(o=-1===e?s:arguments[e])){if(l+(n=c(o.length))>y)throw TypeError(d);for(r=0;r<n;r++,l++)r in o&&u(f,l,o[r])}else{if(l>=y)throw TypeError(d);u(f,l++,o)}return f.length=l,f}})},3290:function(t,e,r){var i=r(2109),n=r(1285),o=r(1223);i({target:"Array",proto:!0},{fill:n}),o("fill")},6992:function(t,e,r){"use strict";var i=r(5656),n=r(1223),o=r(7497),s=r(9909),a=r(654),c="Array Iterator",u=s.set,h=s.getterFor(c);t.exports=a(Array,"Array",(function(t,e){u(this,{type:c,target:i(t),index:0,kind:e})}),(function(){var t=h(this),e=t.target,r=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:i,done:!1}:"values"==r?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},561:function(t,e,r){"use strict";var i=r(2109),n=r(1400),o=r(9958),s=r(7466),a=r(7908),c=r(5417),u=r(6135),h=r(1194)("splice"),f=Math.max,l=Math.min,p=9007199254740991,v="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var r,i,h,y,d,m,g=a(this),b=s(g.length),w=n(t,b),x=arguments.length;if(0===x?r=i=0:1===x?(r=0,i=b-w):(r=x-2,i=l(f(o(e),0),b-w)),b+r-i>p)throw TypeError(v);for(h=c(g,i),y=0;y<i;y++)(d=w+y)in g&&u(h,y,g[d]);if(h.length=i,r<i){for(y=w;y<b-i;y++)m=y+r,(d=y+i)in g?g[m]=g[d]:delete g[m];for(y=b;y>b-i+r;y--)delete g[y-1]}else if(r>i)for(y=b-i;y>w;y--)m=y+r-1,(d=y+i-1)in g?g[m]=g[d]:delete g[m];for(y=0;y<r;y++)g[y+w]=arguments[y+2];return g.length=b-i+r,h}})},489:function(t,e,r){var i=r(2109),n=r(7293),o=r(7908),s=r(9518),a=r(8544);i({target:"Object",stat:!0,forced:n((function(){s(1)})),sham:!a},{getPrototypeOf:function(t){return s(o(t))}})},1539:function(t,e,r){var i=r(1694),n=r(1320),o=r(288);i||n(Object.prototype,"toString",o,{unsafe:!0})},2419:function(t,e,r){var i=r(2109),n=r(5005),o=r(3099),s=r(9670),a=r(111),c=r(30),u=r(7065),h=r(7293),f=n("Reflect","construct"),l=h((function(){function t(){}return!(f((function(){}),[],t)instanceof t)})),p=!h((function(){f((function(){}))})),v=l||p;i({target:"Reflect",stat:!0,forced:v,sham:v},{construct:function(t,e){o(t),s(e);var r=arguments.length<3?t:o(arguments[2]);if(p&&!l)return f(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(u.apply(t,i))}var n=r.prototype,h=c(a(n)?n:Object.prototype),v=Function.apply.call(t,h,e);return a(v)?v:h}})},8783:function(t,e,r){"use strict";var i=r(8710).charAt,n=r(1340),o=r(9909),s=r(654),a="String Iterator",c=o.set,u=o.getterFor(a);s(String,"String",(function(t){c(this,{type:a,string:n(t),index:0})}),(function(){var t,e=u(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=i(r,n),e.index+=t.length,{value:t,done:!1})}))},3112:function(t,e,r){"use strict";var i=r(2109),n=r(6650).start;i({target:"String",proto:!0,forced:r(4986)},{padStart:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},1817:function(t,e,r){"use strict";var i=r(2109),n=r(9781),o=r(7854),s=r(6656),a=r(111),c=r(3070).f,u=r(9920),h=o.Symbol;if(n&&"function"==typeof h&&(!("description"in h.prototype)||void 0!==h().description)){var f={},l=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof l?new h(t):void 0===t?h():h(t);return""===t&&(f[e]=!0),e};u(l,h);var p=l.prototype=h.prototype;p.constructor=l;var v=p.toString,y="Symbol(test)"==String(h("test")),d=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=a(this)?this.valueOf():this,e=v.call(t);if(s(f,t))return"";var r=y?e.slice(7,-1):e.replace(d,"$1");return""===r?void 0:r}}),i({global:!0,forced:!0},{Symbol:l})}},2165:function(t,e,r){r(7235)("iterator")},2526:function(t,e,r){"use strict";var i=r(2109),n=r(7854),o=r(5005),s=r(1913),a=r(9781),c=r(133),u=r(7293),h=r(6656),f=r(3157),l=r(111),p=r(2190),v=r(9670),y=r(7908),d=r(5656),m=r(4948),g=r(1340),b=r(9114),w=r(30),x=r(1956),P=r(8006),E=r(1156),k=r(5181),S=r(1236),O=r(3070),j=r(5296),T=r(8880),_=r(1320),M=r(2309),R=r(6200),F=r(3501),I=r(9711),D=r(5112),C=r(6061),L=r(7235),A=r(8003),H=r(9909),V=r(2092).forEach,B=R("hidden"),X="Symbol",Y=D("toPrimitive"),G=H.set,N=H.getterFor(X),W=Object.prototype,q=n.Symbol,K=o("JSON","stringify"),z=S.f,U=O.f,J=E.f,$=j.f,Q=M("symbols"),Z=M("op-symbols"),tt=M("string-to-symbol-registry"),et=M("symbol-to-string-registry"),rt=M("wks"),it=n.QObject,nt=!it||!it.prototype||!it.prototype.findChild,ot=a&&u((function(){return 7!=w(U({},"a",{get:function(){return U(this,"a",{value:7}).a}})).a}))?function(t,e,r){var i=z(W,e);i&&delete W[e],U(t,e,r),i&&t!==W&&U(W,e,i)}:U,st=function(t,e){var r=Q[t]=w(q.prototype);return G(r,{type:X,tag:t,description:e}),a||(r.description=e),r},at=function(t,e,r){t===W&&at(Z,e,r),v(t);var i=m(e);return v(r),h(Q,i)?(r.enumerable?(h(t,B)&&t[B][i]&&(t[B][i]=!1),r=w(r,{enumerable:b(0,!1)})):(h(t,B)||U(t,B,b(1,{})),t[B][i]=!0),ot(t,i,r)):U(t,i,r)},ct=function(t,e){v(t);var r=d(e),i=x(r).concat(lt(r));return V(i,(function(e){a&&!ut.call(r,e)||at(t,e,r[e])})),t},ut=function(t){var e=m(t),r=$.call(this,e);return!(this===W&&h(Q,e)&&!h(Z,e))&&(!(r||!h(this,e)||!h(Q,e)||h(this,B)&&this[B][e])||r)},ht=function(t,e){var r=d(t),i=m(e);if(r!==W||!h(Q,i)||h(Z,i)){var n=z(r,i);return!n||!h(Q,i)||h(r,B)&&r[B][i]||(n.enumerable=!0),n}},ft=function(t){var e=J(d(t)),r=[];return V(e,(function(t){h(Q,t)||h(F,t)||r.push(t)})),r},lt=function(t){var e=t===W,r=J(e?Z:d(t)),i=[];return V(r,(function(t){!h(Q,t)||e&&!h(W,t)||i.push(Q[t])})),i};c||(_((q=function(){if(this instanceof q)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,e=I(t),r=function(t){this===W&&r.call(Z,t),h(this,B)&&h(this[B],e)&&(this[B][e]=!1),ot(this,e,b(1,t))};return a&&nt&&ot(W,e,{configurable:!0,set:r}),st(e,t)}).prototype,"toString",(function(){return N(this).tag})),_(q,"withoutSetter",(function(t){return st(I(t),t)})),j.f=ut,O.f=at,S.f=ht,P.f=E.f=ft,k.f=lt,C.f=function(t){return st(D(t),t)},a&&(U(q.prototype,"description",{configurable:!0,get:function(){return N(this).description}}),s||_(W,"propertyIsEnumerable",ut,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:q}),V(x(rt),(function(t){L(t)})),i({target:X,stat:!0,forced:!c},{for:function(t){var e=g(t);if(h(tt,e))return tt[e];var r=q(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!p(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!a},{create:function(t,e){return void 0===e?w(t):ct(w(t),e)},defineProperty:at,defineProperties:ct,getOwnPropertyDescriptor:ht}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ft,getOwnPropertySymbols:lt}),i({target:"Object",stat:!0,forced:u((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(y(t))}}),K&&i({target:"JSON",stat:!0,forced:!c||u((function(){var t=q();return"[null]"!=K([t])||"{}"!=K({a:t})||"{}"!=K(Object(t))}))},{stringify:function(t,e,r){for(var i,n=[t],o=1;arguments.length>o;)n.push(arguments[o++]);if(i=e,(l(e)||void 0!==t)&&!p(t))return f(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!p(e))return e}),n[1]=e,K.apply(null,n)}}),q.prototype[Y]||T(q.prototype,Y,q.prototype.valueOf),A(q,X),F[B]=!0},4747:function(t,e,r){var i=r(7854),n=r(8324),o=r(8533),s=r(8880);for(var a in n){var c=i[a],u=c&&c.prototype;if(u&&u.forEach!==o)try{s(u,"forEach",o)}catch(t){u.forEach=o}}},3948:function(t,e,r){var i=r(7854),n=r(8324),o=r(6992),s=r(8880),a=r(5112),c=a("iterator"),u=a("toStringTag"),h=o.values;for(var f in n){var l=i[f],p=l&&l.prototype;if(p){if(p[c]!==h)try{s(p,c,h)}catch(t){p[c]=h}if(p[u]||s(p,u,f),n[f])for(var v in o)if(p[v]!==o[v])try{s(p,v,o[v])}catch(t){p[v]=o[v]}}}}},e={};function r(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,r),o.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){"use strict";r(4747),r(489),r(2419),r(2526),r(1817),r(1539),r(2165),r(6992),r(8783),r(3948),r(3290),r(561);var t=new Image;t.src="src/images/projectiles/player_bullet.png";var e=new Image;e.src="src/images/Ship6.png";var i=new Image;i.src="src/images/Ship2.png";var n=new Image;n.src="src/images/swing.png";var o=new Image;o.src="src/images/crosshair.png";var s=new Image;s.src="src/images/axe.png";var a={bulletImage:t,defaultShip:e,playerShip:i,meleeSwing:n,crosshair:o,axe:s};function c(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.ctx,this.swidth=e.swidth,this.sheight=e.sheight,this.dwidth=e.dwidth||this.swidth,this.dheight=e.dheight||this.sheight,this.image=e.image,this.frameMax=e.frameMax||1,this.frameIndex=0,this.tickCount=0,this.ticksPerFrame=e.ticksPerFrame||0,this.angle=0,this.rotate=!0,this.pos=e.pos,this.lifeTime=e.lifeTime,this.game=e.game,this.offsetPos=null,this.lifeTime&&setTimeout((function(){r.removeSelf()}),this.lifeTime)}var e,r;return e=t,(r=[{key:"removeSelf",value:function(){var t=this.game.sprites.indexOf(this);this.game.sprites.splice(t,1)}},{key:"update",value:function(){this.tickCount++,this.tickCount>=this.ticksPerFrame&&(this.tickCount=0,this.frameIndex<this.frameMax-1?this.frameIndex++:this.frameIndex=0)}},{key:"draw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pos,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.pos,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.ctx.setTransform(1,0,0,1,t[0],t[1]),this.rotate&&(this.angle=Math.atan2(e[0]-t[0],-(e[1]-t[1])),r||(this.rotate=!1)),this.ctx.rotate(this.angle),this.ctx.drawImage(this.image,this.frameIndex*(this.swidth/this.frameMax),0,this.swidth/this.frameMax,this.sheight,-this.dwidth/this.frameMax/2,-this.dheight/this.frameMax/2,this.dwidth/this.frameMax,this.dheight),this.ctx.setTransform(1,0,0,1,0,0)}},{key:"drawMelee",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.offsetPos=this.offset(t,e,30),this.ctx.setTransform(1,0,0,1,this.offsetPos[0],this.offsetPos[1]),this.rotate&&(this.angle=Math.atan2(e[0]-this.offsetPos[0],-(e[1]-this.offsetPos[1])),r||(this.rotate=!1)),this.ctx.rotate(this.angle),this.ctx.drawImage(this.image,this.frameIndex*(this.swidth/this.frameMax),0,this.swidth/this.frameMax,this.sheight,-this.dwidth/this.frameMax/2,-this.dheight/this.frameMax/2,this.dwidth/this.frameMax,this.dheight),this.ctx.setTransform(1,0,0,1,0,0)}},{key:"offset",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90,i=[0,0];i[0]=t[0],i[1]=t[1];var n=e[0]-i[0],o=e[1]-i[1],s=Math.sqrt(n*n+o*o);return i[0]+=n/s*r,i[1]+=o/s*r,i}}])&&c(e.prototype,r),t}();function h(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function t(e){var r,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),i=function(t){var e=this.pos[0],r=this.pos[1],i=t.pos[0],n=t.pos[1],o=Math.sqrt(Math.pow(e-i,2)+Math.pow(r-n,2));return t.player&&o<this.hitboxRadius+t.hitboxRadius&&(t.score+=1),o<this.hitboxRadius+t.hurtboxRadius},(r="isCollideWith")in this?Object.defineProperty(this,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[r]=i,this.ctx=e.ctx,this.health=40,this.hitboxRadius=e.hitboxRadius||25,this.hurtboxRadius=e.hurtboxRadius||25,this.hit=!1,this.color=e.color||"red",this.game=e.game,this.pos=[e.pos[0],e.pos[1]],this.focus=!1,this.player=!1,this.vel=[0,0],this.speed=1,this.friction=.8,this.knockbackFriction=.9,this.knockback=!1,this.weight=1,this.sprite=new u({ctx:this.ctx,swidth:128,sheight:128,dwidth:64,dheight:64,image:a.defaultShip}),this.hitSprite=new u({ctx:this.ctx,swidth:128,sheight:128,dwidth:64,dheight:64,image:a.playerShip}),this.currSprite=this.sprite,this.origSpeed=this.speed,this.pathing=!1,this.destPos=[5e3,5e3]}var e,r;return e=t,(r=[{key:"draw",value:function(){this.currSprite.update(),this.currSprite.draw(this.pos,this.game.mousePos),this.Hit?this.currSprite=this.hitSprite:this.currSprite=this.sprite,this.focus&&(this.ctx.beginPath(),this.ctx.arc(this.pos[0],this.pos[1],this.hurtboxRadius,0,2*Math.PI,!1),this.hit?this.ctx.fillStyle="white":this.ctx.fillStyle=this.color,this.ctx.fill())}},{key:"move",value:function(t,e){var r=.7101*this.speed;Math.abs(this.vel[0])>=r&&Math.abs(this.vel[1])>=r&&(this.vel[0]*=.7101,this.vel[1]*=.7101),this.pos[0]+=this.vel[0]*e,this.pos[1]+=this.vel[1]*e,this.knockback?(this.vel[1]*=this.knockbackFriction,this.vel[0]*=this.knockbackFriction):(this.vel[1]*=this.friction,this.vel[0]*=this.friction)}},{key:"update",value:function(t,e){this.move(t,e),this.checkCollisions(),this.health<=0&&!this.knockback&&(this.removeSelf(),this.game.player.score+=100)}},{key:"checkCollisions",value:function(){this.knockback?this.checkHitEnemy():this.checkHitPlayer()}},{key:"checkHitEnemy",value:function(){for(var t=this.game.objects,e=!1,r=0;r<t.length;r++)this.isCollideWith(t[r])&&t[r]!=this&&t[r]!=this.game.player&&(this.hit=!0,t[r].hit=!0,t[r].health-=this.damage,this.game.player.score+=1,e=!0);return e}},{key:"checkHitPlayer",value:function(){var t=!1;return this.isCollideWith(this.game.player)&&(this.hit=!0,this.game.player.getHit(),t=!0,this.removeSelf()),t}},{key:"pathTowards",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.speed;this.pathing=!0,this.destPos=e,this.origSpeed=r,this.speed=r;var i=e[0]-t[0],n=e[1]-t[1],o=Math.sqrt(i*i+n*n);this.vel[0]=i/o*r,this.vel[1]=n/o*r}},{key:"pushTowards",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.speed;this.speed=r;var i=e[0]-t[0],n=e[1]-t[1],o=Math.sqrt(i*i+n*n);this.vel[0]=i/o*r,this.vel[1]=n/o*r}},{key:"removeSelf",value:function(){var t=this.game.objects.indexOf(this);this.game.objects.splice(t,1)}}])&&h(e.prototype,r),t}();function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function p(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(s,t);var e,r,i,n,o=(i=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=d(i);if(n){var r=d(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return y(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t)).friction=1,e.knockbackFriction=1,e.speed=5,e.reflected=!1,e.weight=1,e.health=1e4,e.knockbackMax=2,e.damage=1,e.dir=t.dir,e.sprite=new u({ctx:e.ctx,swidth:100,sheight:100,dy:e.pos[1],dx:e.pos[0],dwidth:100,dheight:100,image:a.bulletImage}),e.pathTowards(e.pos,e.dir),e}return e=s,(r=[{key:"draw",value:function(){this.sprite.update(),this.sprite.draw(this.pos,this.game.mousePos,!1)}},{key:"spawnBulletFront",value:function(t){var e=this.dir[0]-this.pos[0],r=this.dir[1]-this.pos[1],i=Math.sqrt(e*e+r*r);this.pos[0]+=e/i*t,this.pos[1]+=r/i*t}},{key:"checkCollisions",value:function(){this.reflected?this.checkHitEnemy():this.checkHitPlayer()&&this.removeSelf();var t;t=this.knockback?0:10;var e=this.pos[0]>this.game.DIM_X+t,r=this.pos[0]<-t,i=this.pos[1]>this.game.DIM_Y+t,n=this.pos[1]<-t;!this.knockback||this.knockbackMax<=0?(e||r||i||n)&&this.removeSelf():(n&&(this.vel[1]*=-1),(e||r)&&(this.knockbackMax--,this.vel[0]*=-1),i&&(this.vel[1]*=-1,this.knockbackMax--))}},{key:"removeSelf",value:function(){var t=this.game.activeHitbox.indexOf(this);this.game.activeHitbox.splice(t,1)}}])&&p(e.prototype,r),s}(f),g=(r(2222),function(t,e,r){var i=!1,n=t;return function(){if(!i){i=!0,setTimeout((function(){i=!1}),e);for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];n.call.apply(n,[r].concat(o))}}}),b=function(t,e){return Math.random()*(e-t)+t};function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(s,t);var e,r,i,n,o=(i=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(i);if(n){var r=k(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return E(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t)).pathTowards(e.pos,e.dir),e.spawnBulletFront(50),e}return e=s,(r=[{key:"draw",value:function(){this.ctx.beginPath(),this.ctx.arc(this.pos[0],this.pos[1],this.hitboxRadius,0,2*Math.PI,!1),this.ctx.strokeStyle="blue",this.ctx.stroke(),this.hit?this.ctx.fillStyle="pink":this.ctx.fillStyle=this.color,this.ctx.fill()}}])&&x(e.prototype,r),s}(m);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function j(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return M(t)}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(s,t);var e,r,i,n,o=(i=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=R(i);if(n){var r=R(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return _(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t)).friction=1,e.knockbackFriction=.95,e.hurtboxRadius=20,e.reflected=!1,e.health=50,e.weight=2,e.fire=g(e.fire,50/e.game.delta,M(e)),e.firing=!1,e.targetDir=0,e.targetFirePos=e.game.player.pos,setTimeout((function(){e.removeSelf()}),5e4),e.homing=!1,e}return e=s,(r=[{key:"fire",value:function(t){var e=new S({ctx:this.ctx,game:this.game,pos:this.pos,color:"yellow",hurtboxRadius:10,hitboxRadius:10,dir:t});this.game.activeHitbox.push(e)}},{key:"throttleFireRate",value:function(t){this.fire=g(this.fire,t/this.game.delta,this)}},{key:"update",value:function(t,e){this.move(t,e);var r=this.pos[0]<=this.destPos[0]+20&&this.pos[0]>=this.destPos[0]-20,i=this.pos[1]<=this.destPos[1]+20&&this.pos[1]>=this.destPos[1]-20;!this.knockback&&r&&i&&this.pathing&&!this.homing&&(this.vel[0]=0,this.vel[1]=0),this.firing&&(1===this.targetDir&&(this.targetFirePos=[this.pos[0],2e3]),2===this.targetDir&&(this.targetFirePos=[1e3,this.pos[1]]),3===this.targetDir&&(this.targetFirePos=[-1e3,this.pos[1]]),this.fire(this.targetFirePos)),this.checkCollisions(),this.health<=0&&!this.knockback&&(this.removeSelf(),this.game.player.score+=100)}},{key:"repath",value:function(){this.knockback=!1,this.currSprite.rotate=!0,this.pathTowards(this.pos,this.destPos,this.origSpeed)}},{key:"recoverKnockback",value:function(t){var e=this;setTimeout((function(){e&&(e.repath(),e.health-=t)}),1e3*this.game.delta)}},{key:"draw",value:function(){this.Hit?this.currSprite=this.hitSprite:this.currSprite=this.sprite,this.currSprite.update(),this.firing?(this.currSprite.rotate=!0,this.homing=!1,this.currSprite.draw(this.pos,this.targetFirePos)):this.homing?this.currSprite.draw(this.pos,this.destPos,!1):(this.currSprite.rotate=!0,this.currSprite.draw(this.pos,this.destPos))}},{key:"setEventPathVert",value:function(t,e,r){var i=this;setTimeout((function(){i.homing=!1,i.pathTowards(i.pos,[i.pos[0],t],e)}),r)}},{key:"setEventPathHor",value:function(t,e,r){var i=this;setTimeout((function(){i.homing=!1,i.pathTowards(i.pos,[t,i.pos[1]],e)}),r)}},{key:"setEventPath",value:function(t,e,r,i){var n=this;setTimeout((function(){n.homing=!1,i&&(n.homing=!0),n.pathTowards(n.pos,t,e)}),r)}},{key:"setEventFire",value:function(t,e,r,i){var n=this,o=t;setTimeout((function(){n.firing=!0,n.targetDir=0,0===i?o=n.game.player.pos:1===i?n.targetDir=1:2===i?n.targetDir=2:3===i&&(n.targetDir=3),n.targetFirePos=o}),e),setTimeout((function(){n.firing=!1}),e+r)}},{key:"setEventFireRate",value:function(t,e){var r=this;setTimeout((function(){r.throttleFireRate(t)}),e)}}])&&j(e.prototype,r),s}(f);function I(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var D=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e.ctx,this.game=e.game,this.player=this.game.player,this.playerPos=this.game.player.pos,this.time=0,this.maxTime=4e3,this.DIM_X=this.ctx.canvas.width,this.DIM_Y=this.ctx.canvas.height,this.currEnemy=[]}var e,r;return e=t,(r=[{key:"loadLevel",value:function(){}},{key:"endLevel",value:function(){}},{key:"update",value:function(){this.game.delta>0&&this.time++,this.time===this.maxTime&&(this.player.health=0),1===this.time&&(this.spawnLeft(3,80,!1,!0,50),this.setEventFireRate(.5),this.setEventPathHor(225,3,1.1),this.setEventFire(this.playerPos,3,3,0),this.setEventPath(this.playerPos,5,6,!0)),200===this.time&&(this.spawnRight(3,80,!1,!0,50),this.setEventFireRate(.5),this.setEventPathHor(625,3,1.1),this.setEventFire(this.playerPos,3,3,0),this.setEventPath(this.playerPos,5,6,!0)),560===this.time&&(this.spawnLeft(5,80,!1,!0,50),this.setEventFireRate(1),this.setEventPathHor(2e3,3,1.1),this.setEventFire(this.playerPos,3,6,1)),560===this.time&&(this.spawnRight(5,80,!1,!0,50),this.setEventFireRate(1),this.setEventPathHor(-2e3,3,1.1),this.setEventFire(this.playerPos,3,6,1)),900===this.time&&(this.spawnTop(8,50,!1,!0,0,125),this.setEventPathVert(2e3,2,1),this.setEventFireRate(.2),this.setEventFire([this.DIM_X/2,this.DIM_Y/2],1,1.5),this.setEventFire(this.playerPos,4,10,1)),1300===this.time&&(this.spawnTop(16,5,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventPath(this.playerPos,8,7,!0),this.setEventFire(this.playerPos,8,5)),1400===this.time&&(this.spawnTop(16,this.DIM_X/2+50,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventPath(this.playerPos,8,3,!0)),1500===this.time&&(this.spawnTop(16,5,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventFire(this.playerPos,2,.5,1),this.setEventPath(this.playerPos,8,3,!0)),1600===this.time&&(this.spawnTop(16,this.DIM_X/2+50,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventPath(this.playerPos,8,3,!0)),1700===this.time&&(this.spawnTop(16,5,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventFire(this.playerPos,2,.5,1),this.setEventPath(this.playerPos,8,3,!0)),1800===this.time&&(this.spawnTop(16,this.DIM_X/2+50,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventPath(this.playerPos,8,3,!0)),1900===this.time&&(this.spawnTop(16,5,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventFire(this.playerPos,2,.5,1),this.setEventPath(this.playerPos,8,3,!0)),2e3===this.time&&(this.spawnTop(16,this.DIM_X/2+50,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventPath(this.playerPos,8,3,!0)),2100===this.time&&(this.spawnTop(16,5,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventFire(this.playerPos,2,3,1),this.setEventPath(this.playerPos,8,3,!0)),2200===this.time&&(this.spawnTop(16,this.DIM_X/2+50,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventFire(this.playerPos,2,.5,1),this.setEventPathVert(2e3,5,2.2,!0),this.setEventPath(this.playerPos,8,3,!0),this.setEventFire(this.playerPos,8,2)),2500===this.time&&(this.spawnTop(16,5,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventPathVert(2e3,2,2.2,!0),this.setEventFire(this.playerPos,1,20)),2900===this.time&&(this.spawnTop(16,this.DIM_X/2+50,!1,!0,0,30),this.setEventPathVert(50,5,1,!0),this.setEventFireRate(.5),this.setEventPathVert(2e3,1,2.2,!0),this.setEventPath(this.playerPos,3,3,!0),this.setEventFire(this.playerPos,1,25)),3200===this.time&&(this.spawnLeft(15,-400,!1,!0,100,!0),this.setEventFireRate(1),this.setEventPathHor(40,5,1,!0),this.setEventPathVert(2e3,1,2.2,!0),this.setEventFire(this.playerPos,2,20,2)),3200===this.time&&(this.spawnRight(15,-450,!1,!0,100,!0),this.setEventFireRate(1),this.setEventPathHor(this.DIM_X-40,5,1,!0),this.setEventPathVert(2e3,1,2.2,!0),this.setEventFire(this.playerPos,2,20,3))}},{key:"setEventPathVert",value:function(t,e,r,i){r*=1e3;for(var n=0,o=0;o<this.currEnemy.length;o++)n=i?t:t-70*(o-1),this.currEnemy[o].setEventPathVert(n,e,r)}},{key:"setEventPathHor",value:function(t,e,r,i){r*=1e3;for(var n=0,o=0;o<this.currEnemy.length;o++)n=t>this.currEnemy[o].pos[0]?t-70*(o-1):t+70*(o-1),i&&(n=t),this.currEnemy[o].setEventPathHor(n,e,r)}},{key:"setEventPath",value:function(t,e,r,i){r*=1e3;for(var n=0;n<this.currEnemy.length;n++)this.currEnemy[n].setEventPath(t,e,r,i)}},{key:"spawnLeft",value:function(t,e,r,i,n,o){this.currEnemy=[];for(var s=e-200,a=e+200,c=0;c<t;c++){var u,h=e;r?e=b(s,a):i&&(h=e+n*c),u=o?-100:-100-70*c;var f=new F({ctx:this.ctx,game:this.game,pos:[u,h]});this.currEnemy.push(f),this.game.objects.push(f)}}},{key:"spawnRight",value:function(t,e,r,i,n,o){this.currEnemy=[];for(var s=e-200,a=e+200,c=0;c<t;c++){var u,h=e;r?e=b(s,a):i&&(h=e+n*c),u=o?this.DIM_X+100:this.DIM_X+100+70*c;var f=new F({ctx:this.ctx,game:this.game,pos:[u,h]});this.currEnemy.push(f),this.game.objects.push(f)}}},{key:"spawnTop",value:function(t,e,r,i,n,o){this.currEnemy=[];for(var s=e-200,a=e+200,c=0;c<t;c++){var u=e,h=-100;r?e=b(s,a):i&&(u=e+o*c),n&&(h=-100-70*c),i||n||(h=-100-70*c);var f=new F({ctx:this.ctx,game:this.game,pos:[u,h]});this.currEnemy.push(f),this.game.objects.push(f)}}},{key:"setEventFire",value:function(t,e,r,i){e*=1e3,r*=1e3;for(var n=0;n<this.currEnemy.length;n++)this.currEnemy[n].setEventFire(t,e,r,i)}},{key:"setEventFireRate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e*=1e3,t*=1e3;for(var r=0;r<this.currEnemy.length;r++)this.currEnemy[r].setEventFireRate(t,e)}},{key:"draw",value:function(){}}])&&I(e.prototype,r),t}();function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function A(t,e){return(A=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function H(t,e){if(e&&("object"===C(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r(3112);var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&A(t,e)}(s,t);var e,r,i,n,o=(i=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(i);if(n){var r=V(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return H(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t)).speed=30,e.hitboxRadius=5,e.damage=10,e.pathTowards(e.pos,e.dir),e.spawnBulletFront(30),e}return e=s,(r=[{key:"spawnBulletFront",value:function(t){var e=this.dir[0]-this.pos[0],r=this.dir[1]-this.pos[1],i=Math.sqrt(e*e+r*r);this.pos[0]+=e/i*t,this.pos[1]+=r/i*t}},{key:"checkCollisions",value:function(){this.checkHitEnemy()&&this.removeSelf();var t=this.pos[0]>this.game.DIM_X,e=this.pos[0]<0,r=this.pos[1]>this.game.DIM_Y,i=this.pos[1]<0;if(e||t||i||r){var n=this.game.activeHitbox.indexOf(this);this.game.activeHitbox.splice(n,1)}}}])&&L(e.prototype,r),s}(m);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Y(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function W(t){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(s,t);var e,r,i,n,o=(i=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=W(i);if(n){var r=W(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return N(this,t)});function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this,t)).speed=0,e.pathTowards(e.pos,e.dir),e.spawnBulletFront(50),e.damage=50,e.sprite=new u({ctx:e.ctx,swidth:55,sheight:55,dwidth:110,dheight:110,frameMax:1,ticksPerFrame:1,image:a.axe}),setTimeout((function(){return e.removeSelf()}),100/e.game.delta),e}return e=s,(r=[{key:"move",value:function(){this.pos[0]=this.game.player.pos[0]+this.vel[0],this.pos[1]=this.game.player.pos[1]+this.vel[1]}},{key:"draw",value:function(){this.sprite.update(),this.sprite.drawMelee(this.pos,this.game.mousePos,!0)}},{key:"checkCollisions",value:function(){for(var t=this.game.activeHitbox,e=0;e<t.length;e++)!this.isCollideWith(t[e])||t[e]==this||t[e]instanceof B||(this.hit=!0,t[e].hit=!0,t[e].damage=100,this.game.player.score+=40,this.reflect(t[e]));t=this.game.objects;for(var r=1;r<t.length;r++)if(this.isCollideWith(t[r])&&t[r]!=this&&!(t[r]instanceof B)){if(t[r].knockback)continue;this.hit=!0,t[r].hit=!0,t[r].damage=30,this.reflect(t[r]),t[r].recoverKnockback(this.damage)}}},{key:"reflect",value:function(t){t.knockback=!0,t.reflected=!0,t.pushTowards(t.pos,this.game.mousePos,30/t.weight)}}])&&Y(e.prototype,r),s}(m);function K(t){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function J(t,e){if(e&&("object"===K(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return $(t)}function $(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Z=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&U(t,e)}(s,t);var e,r,i,n,o=(i=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=Q(i);if(n){var r=Q(this).constructor;t=Reflect.construct(e,arguments,r)}else t=e.apply(this,arguments);return J(this,t)});function s(t){var e,r,i,n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),n=function(t){var e=this.pos[0],r=this.pos[1],i=t.pos[0],n=t.pos[1];return Math.sqrt(Math.pow(e-i,2)+Math.pow(r-n,2))<this.hitboxRadius+t.hurtboxRadius},(i="isCollideWith")in(r=$(e=o.call(this,t)))?Object.defineProperty(r,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[i]=n,e.hurtboxRadius=7,e.hitboxRadius=35,e.health=5,e.score=0,e.player=!0,e.speed=8,e.normalSpeed=e.speed,e.focus_speed=e.speed/2,e.friction=.5,e.sprite=new u({ctx:e.ctx,swidth:128,sheight:128,dwidth:128,dheight:128,image:a.playerShip}),e.fire=g(e.fire,100/e.game.delta,$(e)),e.parry=g(e.parry,1e3/e.game.delta,$(e)),e.getHit=g(e.getHit,1e3/e.game.delta,$(e)),e}return e=s,(r=[{key:"update",value:function(t,e){this.move(t,e),this.checkCollisions()}},{key:"checkCollisions",value:function(){this.game.objects;var t=document.getElementById("main-stats-life"),e=document.getElementById("main-stats-score");t.innerHTML="Life: "+"".concat(this.health).padStart(5,"0"),e.innerHTML="Score: "+"".concat(this.score).padStart(5,0),this.pos[0]>this.game.DIM_X&&(this.pos[0]=this.game.DIM_X),this.pos[0]<0&&(this.pos[0]=0),this.pos[1]>this.game.DIM_Y&&(this.pos[1]=this.game.DIM_Y),this.pos[1]<0&&(this.pos[1]=0)}},{key:"getHit",value:function(){var t=this;this.health--,this.game.delta=.5,this.hit=!0;var e=new u({ctx:this.ctx,swidth:100,sheight:100,dy:this.pos[1],dx:this.pos[0],dwidth:100,dheight:100,pos:this.pos,game:this.game,lifeTime:50,image:a.bulletImage});this.game.sprites.push(e),setTimeout((function(){t.game.delta=1}),250),setTimeout((function(){t.hit=!1}),1e3)}},{key:"focusMode",value:function(){this.speed=this.focus_speed,this.focus=!0}},{key:"unfocus",value:function(){this.focus=!1,this.speed=this.normalSpeed}},{key:"fire",value:function(t){var e=new B({ctx:this.ctx,game:this.game,pos:this.pos,color:"yellow",hurtboxRadius:10,hitboxRadius:10,dir:t});this.game.activeHitbox.push(e)}},{key:"parry",value:function(t){var e=new q({ctx:this.ctx,game:this.game,pos:this.pos,color:"red",hurtboxRadius:50,hitboxRadius:75,dir:t});this.game.activeHitbox.push(e)}}])&&z(e.prototype,r),s}(f);function tt(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var et=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.canvas=this.ctx.canvas,this.DIM_X=e.canvas.width,this.DIM_Y=e.canvas.height,this.delta=1,this.key={},this.mousePos=[0,0],this.setupListeners(),this.objects=[],this.activeHitbox=[],this.sprites=[],this.cursor=new u({ctx:this.ctx,swidth:32,sheight:32,rotate:!1,pos:this.mousePos,game:this,image:a.crosshair}),this.sprites.push(this.cursor);var r=new Z({ctx:this.ctx,game:this,pos:[this.DIM_X/2,.8*this.DIM_Y]});this.player=r,this.objects.push(r),this.level=new D({ctx:this.ctx,game:this}),this.secondsPassed=0,this.oldTimeStamp=0,this.GameStartButton={x:0,y:0,width:this.DIM_Y,height:this.DIM_X},this.gameMenu()}var e,r;return e=t,(r=[{key:"gameMenu",value:function(){var t=this;this.player.health>0?(document.getElementById("moon_game").style.cursor="auto",new FontFace("pressStart","url(src/styles/pressStart.ttf)").load().then((function(e){document.fonts.add(e),t.ctx.fillStyle="white",t.ctx.font="40px pressStart",t.ctx.fillText("Click to Start",t.DIM_X/2-275,t.DIM_Y/2)}))):(this.GameStartButton={x:0,y:0,width:this.DIM_Y,height:this.DIM_X},document.getElementById("moon_game").style.cursor="auto",this.ctx.fillStyle="black",this.ctx.font="40px pressStart",this.ctx.fillText("FINAL SCORE: ".concat(this.player.score),this.DIM_X/2-300,this.DIM_Y/4),this.ctx.font="30px pressStart",this.ctx.fillText("GRADE: C-",this.DIM_X/2-120,this.DIM_Y/2),this.ctx.fillText("Click to Restart?",this.DIM_X/2-240,this.DIM_Y/1.5))}},{key:"loadGame",value:function(){this.player.health>0?(document.getElementById("moon_game").style.cursor="none",this.GameStartButton={},window.requestAnimationFrame(this.gameStart.bind(this))):(document.getElementById("moon_game").style.cursor="none",this.GameStartButton={},this.activeHitbox=[],this.objects=[],this.sprites=[],this.level=new D({ctx:this.ctx,game:this}),this.secondsPassed=0,this.oldTimeStamp=0,this.player=new Z({ctx:this.ctx,game:this,pos:[this.DIM_X/2,.8*this.DIM_Y]}),this.sprites.push(this.cursor),this.objects.push(this.player))}},{key:"setupListeners",value:function(){var t=this;document.addEventListener("keydown",(function(e){return t.key[e.code]=!0}),!1),document.addEventListener("keyup",(function(e){return t.key[e.code]=!1}),!1),document.getElementById("moon_game").addEventListener("mousedown",(function(e){return t.key[e.button]=!0}),!1),document.getElementById("moon_game").addEventListener("mouseup",(function(e){return t.key[e.button]=!1}),!1),document.addEventListener("click",(function(e){t.isInside(t.mousePos,t.GameStartButton)&&(console.log("Starting"),t.loadGame())})),this.ctx.canvas.addEventListener("mousemove",(function(e){return t.getMousePos(e)}))}},{key:"isInside",value:function(t,e){return t[0]>e.x&&t[0]<e.x+e.width&&t[1]<e.y+e.height&&t[1]>e.y}},{key:"drawBackground",value:function(){this.ctx.globalCompositeOperation="destination-over",this.ctx.fillStyle="grey",this.ctx.fillRect(0,0,this.DIM_X,this.DIM_Y),this.ctx.globalCompositeOperation="source-over"}},{key:"gameStart",value:function(t){this.player.health>0?(this.secondsPassed=(t-this.oldTimeStamp)/1e3,this.oldTimeStamp=t,this.update(this.secondsPassed,this.delta),this.draw()):this.gameMenu(),window.requestAnimationFrame(this.gameStart.bind(this))}},{key:"update",value:function(t,e){this.checkKeys(),this.level.update(),this.objects.forEach((function(r){r.update(t,e)})),this.activeHitbox.forEach((function(r){r.update(t,e)})),this.sprites.forEach((function(r){r.update(t,e)}))}},{key:"draw",value:function(){this.ctx.clearRect(0,0,this.DIM_X,this.DIM_Y),this.drawBackground(),this.level.draw(),this.objects.forEach((function(t){t.draw()})),this.activeHitbox.forEach((function(t){t.draw()})),this.sprites.forEach((function(t){t.draw()}))}},{key:"checkKeys",value:function(){var t=.8;this.key.KeyA&&(this.player.vel[0]>-this.player.speed&&(this.player.vel[0]-=this.player.speed*t),this.player.vel[0]<-this.player.speed&&(this.player.vel[0]=-this.player.speed)),this.key.KeyD&&(this.player.vel[0]<this.player.speed&&(this.player.vel[0]+=this.player.speed*t),this.player.vel[0]>this.player.speed&&(this.player.vel[0]=this.player.speed)),this.key.KeyW&&(this.player.vel[1]>-this.player.speed&&(this.player.vel[1]-=this.player.speed*t),this.player.vel[1]<-this.player.speed&&(this.player.vel[1]=-this.player.speed)),this.key.KeyS&&(this.player.vel[1]<this.player.speed&&(this.player.vel[1]+=this.player.speed*t),this.player.vel[1]>this.player.speed&&(this.player.vel[1]=this.player.speed)),this.key.ShiftLeft?this.player.focusMode():this.player.unfocus(),this.key[0]&&this.player.fire(this.mousePos),this.key[2]&&this.player.parry(this.mousePos)}},{key:"getMousePos",value:function(t){var e=this.ctx.canvas.getBoundingClientRect();this.mousePos[0]=t.clientX-e.left,this.mousePos[1]=t.clientY-e.top}}])&&tt(e.prototype,r),t}();console.log("Webpack init check"),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("moon_game").getContext("2d");new et(t)}))}()}();
//# sourceMappingURL=main.js.map